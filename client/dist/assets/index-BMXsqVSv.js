(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();document.getElementById("menuButton").addEventListener("click",()=>{const r=document.querySelector(".settings");r.classList.toggle("show"),r.classList.toggle("hide")});document.getElementById("reviewform");document.getElementById("reviewbox");document.getElementById("filter-hotel");document.getElementById("filter-city");document.getElementById("filter-star");document.getElementById("applyFilters");document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("reviewform"),i=document.getElementById("reviewbox"),a=document.getElementById("filter-hotel"),l=document.getElementById("filter-city"),e=document.getElementById("filter-star"),t=document.getElementById("applyFilters");app.get("/stars",async function(c,s){(await db.query("SELECT * FROM reviews")).rows,s.json(books),console.log(s.json(books))});async function o(){try{const s=await(await fetch("/reviews")).json(),d=document.getElementById("reviewbox");d.innerHTML=s.map(n=>`
            <div class="review">
              <h3>${n.hotel} (${n.city}) - ${n.star} Stars</h3>
              <p>${n.content}</p>
              <p><strong>Reviewer:</strong> ${n.reviewer}</p>
            </div>`).join("")}catch(c){console.error("Failed to load reviews:",c),i.innerHTML="Failed to load reviews."}}document.addEventListener("DOMContentLoaded",o),o(),r.addEventListener("submit",async c=>{c.preventDefault();const s=new FormData(r),d=Object.fromEntries(s.entries());try{await fetch("/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),r.reset(),o()}catch(n){console.error("Failed to submit review",n)}}),t.addEventListener("click",()=>{a.value,l.value,e.value,o()})});
